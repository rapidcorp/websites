server {
    listen 2005 default_server;
    server_name _;

    # Gzip compression
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml image/svg+xml;
    gzip_min_length 256;

    # Landing page
    location = / {
        root /home/ubuntu/websites/landing;
        try_files /index.html =404;
    }

    # MLA project
    location = /mla {
        return 308 https://project.zeye.app/mla/;
    }

    location /mla/ {
        alias /home/ubuntu/websites/mla/dist/;
        index index.html;
        try_files $uri $uri/ /mla/index.html;

        location ~* \.(?:js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf)$ {
            expires 7d;
            add_header Cache-Control "public, immutable";
        }
    }

    # Web-weaver project
    location = /web-weaver {
        return 308 https://project.zeye.app/web-weaver/;
    }

    location /web-weaver/ {
        alias /home/ubuntu/websites/web-weaver/dist/;
        index index.html;
        try_files $uri $uri/ /web-weaver/index.html;

        location ~* \.(?:js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf)$ {
            expires 7d;
            add_header Cache-Control "public, immutable";
        }
    }

    # BVR Supermarket project
    location = /bvr-supermarket {
        return 308 https://project.zeye.app/bvr-supermarket/;
    }

    location /bvr-supermarket/ {
        alias /home/ubuntu/websites/BVR_SUPERMARKET/dist/;
        index index.html;
        try_files $uri $uri/ /bvr-supermarket/index.html;

        location ~* \.(?:js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf)$ {
            expires 7d;
            add_header Cache-Control "public, immutable";
        }
    }
}
